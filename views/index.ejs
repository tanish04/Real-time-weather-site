<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="design.css"/>
</head>
<style>
    h1{
        color: aliceblue;
    }
    p{
        color: aliceblue;
    }
    h2{
        color:aliceblue;
    }
</style>
<body>
  <div class="container-fluid px-1 px-md-4 py-5 mx-auto">
    <div class="row d-flex justify-content-center px-3">
      <div class="card">
        <% if (error) { %>
          <h2 class="text-danger"><%= error %></h2>
        <% } else { %>
          <h2 class="ml-auto mr-4 mt-3 mb-0"><%= location %></h2>
          <p class="ml-auto mr-4 mb-0 med-font"><%= weather %></p>
          <h1 class="ml-auto mr-4 large-font"><%= temp %>&#176;C</h1>
          <p class="time-font mb-0 ml-4 mt-auto" id="time"></p>
          <p class="ml-4 mb-4" id="date"></p> 
        <% } %>
      </div>
    </div>
  </div>
  
  <script>
    // Function to display current date and time
    function updateDateTime() {
      const date = new Date();
      const d = date.getDate();
      const m = date.getMonth() + 1;
      const y = date.getFullYear();
      const hours = date.getHours();
      const minutes = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();
      const ampm = hours >= 12 ? 'PM' : 'AM';
      const timeStr = `${hours % 12 || 12}:${minutes} ${ampm}`;
      const dateStr = `${d}/${m}/${y}`;

      document.getElementById('time').innerHTML = timeStr;
      document.getElementById('date').innerHTML = dateStr;
    }

    // Call the function to update the date and time
    updateDateTime();

    // Update the time every 60 seconds
    setInterval(updateDateTime, 60000);
  </script>

</body>
</html>
